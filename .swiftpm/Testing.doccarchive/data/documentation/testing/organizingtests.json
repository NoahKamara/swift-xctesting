{"metadata":{"roleHeading":"API Collection","role":"collectionGroup","title":"Organizing tests","modules":[{"name":"Testing"}]},"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.swift.testing\/documentation\/Testing\/OrganizingTests"},"abstract":[{"text":"Organize tests into test suites.","type":"text"}],"seeAlsoSections":[{"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/DefiningTests","doc:\/\/org.swift.testing\/documentation\/Testing\/ParameterizedTesting"],"title":"Defining tests","generated":true}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When working with a large selection of test functions, it can be helpful to"},{"type":"text","text":" "},{"text":"organize them into test suites.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A test function can be added to a test suite in one of several ways:"}]},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"text":"By placing it in a Swift type; or","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"By placing it in a Swift type and annotating that type with the ","type":"text"},{"type":"codeVoice","code":"@Suite"},{"text":" ","type":"text"},{"type":"text","text":"attribute."}]}]}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"@Suite"},{"text":" attribute is not required for the testing library to recognize that","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a type contains test functions, but adding it allows customization of a test"},{"text":" ","type":"text"},{"text":"suite’s appearance in the IDE and at the command line. If a trait such as","type":"text"},{"text":" ","type":"text"},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/tags(_:)-505n9","isActive":true,"type":"reference"},{"type":"text","text":" or "},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/disabled(_:fileID:filePath:line:column:)","isActive":true,"type":"reference"},{"type":"text","text":" "},{"text":"is applied to a test suite, it is automatically inherited by the tests contained","type":"text"},{"type":"text","text":" "},{"type":"text","text":"in the suite."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to containing test functions and any other members that a Swift type"},{"text":" ","type":"text"},{"text":"might contain, test suite types can also contain additional test suites nested","type":"text"},{"type":"text","text":" "},{"type":"text","text":"within them. To add a nested test suite type, simply declare an additional type"},{"type":"text","text":" "},{"type":"text","text":"within the scope of the outer test suite type."}]},{"inlineContent":[{"type":"text","text":"By default, tests contained within a suite will run in parallel with each other."},{"type":"text","text":" "},{"type":"text","text":"For more information about test parallelization, see "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Parallelization"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"heading","anchor":"Customizing-a-suites-name","text":"Customizing a suite’s name","level":2},{"inlineContent":[{"text":"To customize a test suite’s name, supply a string literal as an argument to the","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"@Suite"},{"type":"text","text":" attribute:"}],"type":"paragraph"},{"code":["@Suite(\"Food truck tests\") struct FoodTruckTests {","  @Test func foodTruckExists() { ... }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To further customize the appearance and behavior of a test function, use"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Traits","overridingTitle":"traits","overridingTitleInlineContent":[{"type":"text","text":"traits"}]},{"text":" such as ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/tags(_:)-505n9"},{"type":"text","text":"."}]},{"level":2,"text":"Test functions in test suite types","type":"heading","anchor":"Test-functions-in-test-suite-types"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a type contains a test function declared as an instance method (that is,"},{"type":"text","text":" "},{"type":"text","text":"without either the "},{"code":"static","type":"codeVoice"},{"type":"text","text":" or "},{"type":"codeVoice","code":"class"},{"text":" keyword), the testing library will call","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that test function at runtime by initializing an instance of the type, then"},{"type":"text","text":" "},{"type":"text","text":"calling the test function on that instance. If a test suite type contains"},{"text":" ","type":"text"},{"text":"multiple test functions declared as instance methods, each one is called on a","type":"text"},{"text":" ","type":"text"},{"text":"distinct instance of the type. Therefore, the following test suite and test","type":"text"},{"type":"text","text":" "},{"type":"text","text":"function:"}]},{"code":["@Suite struct FoodTruckTests {","  @Test func foodTruckExists() { ... }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"Are equivalent to:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@Suite struct FoodTruckTests {","  func foodTruckExists() { ... }","","  @Test static func staticFoodTruckExists() {","    let instance = FoodTruckTests()","    instance.foodTruckExists()","  }","}"]},{"level":2,"anchor":"Constraints-on-test-suite-types","type":"heading","text":"Constraints on test suite types"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a type is used as a test suite, it is subject to some constraints that are"},{"type":"text","text":" "},{"type":"text","text":"not otherwise applied to Swift types."}]},{"text":"An initializer may be required","level":3,"type":"heading","anchor":"An-initializer-may-be-required"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a type contains test functions declared as instance methods, it must be"},{"type":"text","text":" "},{"type":"text","text":"possible to initialize an instance of the type with a zero-argument initializer."},{"text":" ","type":"text"},{"type":"text","text":"The initializer may be any combination of:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"implicit or explicit;","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"synchronous or asynchronous;","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"throwing or non-throwing; and","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"private","type":"codeVoice"},{"text":", ","type":"text"},{"code":"fileprivate","type":"codeVoice"},{"type":"text","text":", "},{"code":"internal","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"package"},{"text":", or ","type":"text"},{"code":"public","type":"codeVoice"},{"type":"text","text":"."}]}]}]},{"inlineContent":[{"type":"text","text":"For example:"}],"type":"paragraph"},{"code":["@Suite struct FoodTruckTests {","  var batteryLevel = 100","","  @Test func foodTruckExists() { ... } \/\/ ✅ OK: type has implicit init()","}","","@Suite struct CashRegisterTests {","  private init(cashOnHand: Decimal = 0.0) async throws { ... }","","  @Test func calculateSalesTax() { ... } \/\/ ✅ OK: type has callable init()","}","","struct MenuTests {","  var foods: [Food]","  var prices: [Food: Decimal]","","  @Test static func specialOfTheDay() { ... } \/\/ ✅ OK: function is static","  @Test func orderAllFoods() { ... } \/\/ ❌ ERROR: suite type requires init()","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The compiler will emit an error when presented with a test suite that does not","type":"text"},{"text":" ","type":"text"},{"text":"meet this requirement.","type":"text"}]},{"type":"heading","anchor":"Test-suite-types-must-always-be-available","level":3,"text":"Test suite types must always be available"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Although "},{"code":"@available","type":"codeVoice"},{"type":"text","text":" can be applied to a test function to limit its"},{"text":" ","type":"text"},{"text":"availability at runtime, a test suite type (and any types that contain it) must","type":"text"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"not"}]},{"type":"text","text":" be annotated with the "},{"type":"codeVoice","code":"@available"},{"type":"text","text":" attribute:"}]},{"type":"codeListing","syntax":"swift","code":["@Suite struct FoodTruckTests { ... } \/\/ ✅ OK: type is always available","","@available(macOS 11.0, *) \/\/ ❌ ERROR: suite type must always be available","@Suite struct CashRegisterTests { ... }","","@available(macOS 11.0, *) struct MenuItemTests { \/\/ ❌ ERROR: suite type's","                                                 \/\/ containing type must always","                                                 \/\/ be available too","  @Suite struct BurgerTests { ... }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The compiler will emit an error when presented with a test suite that does not"},{"text":" ","type":"text"},{"text":"meet this requirement.","type":"text"}]},{"type":"aside","name":"Bug","content":[{"type":"paragraph","inlineContent":[{"text":"Inherited availability is not always visible to the compiler during","type":"text"},{"type":"text","text":" "},{"type":"text","text":"expansion of the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Suite(_:_:)"},{"type":"text","text":" macro. A test function may crash when run on"},{"text":" ","type":"text"},{"type":"text","text":"an unsupported system. ("},{"type":"reference","identifier":"rdar:\/\/110974351","isActive":true},{"text":")","type":"text"}]}],"style":"note"},{"text":"Classes must be final","level":3,"type":"heading","anchor":"Classes-must-be-final"},{"inlineContent":[{"text":"The testing library does not currently support inheritance between test suite","type":"text"},{"text":" ","type":"text"},{"text":"types. If a class is used as a test suite type, it may inherit from another","type":"text"},{"type":"text","text":" "},{"text":"class, but it must be declared ","type":"text"},{"type":"codeVoice","code":"final"},{"type":"text","text":":"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["@Suite final class FoodTruckTests { ... } \/\/ ✅ OK: class is final","actor CashRegisterTests: NSObject { ... } \/\/ ✅ OK: actors are implicitly final","class MenuItemTests { ... } \/\/ ❌ ERROR: this class is not final"]},{"type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":"Violations of this requirement are not consistently diagnosed at compile"},{"type":"text","text":" "},{"type":"text","text":"time, and the diagnostic produced when an issue is detected may be confusing"},{"type":"text","text":" "},{"text":"to developers. (","type":"text"},{"isActive":true,"type":"reference","identifier":"rdar:\/\/105470382"},{"text":")","type":"text"}],"type":"paragraph"}],"name":"Bug"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/testing\/organizingtests"]}],"hierarchy":{"paths":[["doc:\/\/org.swift.testing\/documentation\/Testing"]]},"topicSections":[{"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/Suite(_:_:)"]}],"references":{"doc://org.swift.testing/documentation/Testing/Suite(_:_:)":{"url":"\/documentation\/testing\/suite(_:_:)","type":"topic","title":"Suite(_:_:)","kind":"symbol","abstract":[{"type":"text","text":"Declare a test suite."}],"fragments":[{"text":"macro","kind":"keyword"},{"kind":"text","text":" "},{"text":"Suite","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"?, ","kind":"text"},{"text":"any","kind":"keyword"},{"kind":"text","text":" "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Testing10SuiteTraitP","text":"SuiteTrait"},{"kind":"text","text":"...)"}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Suite(_:_:)","role":"symbol"},"doc://org.swift.testing/documentation/Testing":{"title":"Testing","kind":"symbol","role":"collection","url":"\/documentation\/testing","type":"topic","abstract":[{"type":"text","text":"Create and run tests for your Swift packages and Xcode projects."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing"},"doc://org.swift.testing/documentation/Testing/DefiningTests":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/DefiningTests","type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"Define a test function to validate that code is working correctly."}],"title":"Defining test functions","url":"\/documentation\/testing\/definingtests","kind":"article"},"doc://org.swift.testing/documentation/Testing/ParameterizedTesting":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/ParameterizedTesting","title":"Parameterized testing","type":"topic","role":"collectionGroup","url":"\/documentation\/testing\/parameterizedtesting","abstract":[{"text":"Run the same test multiple times with different inputs.","type":"text"}],"kind":"article"},"rdar://110974351":{"titleInlineContent":[{"text":"110974351","type":"text"}],"type":"link","identifier":"rdar:\/\/110974351","title":"110974351","url":"rdar:\/\/110974351"},"rdar://105470382":{"title":"105470382","titleInlineContent":[{"text":"105470382","type":"text"}],"type":"link","url":"rdar:\/\/105470382","identifier":"rdar:\/\/105470382"},"doc://org.swift.testing/documentation/Testing/Trait/tags(_:)-505n9":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/tags(_:)-505n9","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"tags","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"...) -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"title":"tags(_:)","type":"topic","role":"symbol","conformance":{"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}],"constraints":[{"code":"Self","type":"codeVoice"},{"type":"text","text":" is "},{"code":"Tag.List","type":"codeVoice"},{"text":".","type":"text"}]},"url":"\/documentation\/testing\/trait\/tags(_:)-505n9","abstract":[{"text":"Construct a list of tags to apply to a test from a list of string values.","type":"text"}],"kind":"symbol"},"doc://org.swift.testing/documentation/Testing/Parallelization":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Parallelization","role":"article","kind":"article","title":"Parallelizing test execution","abstract":[{"type":"text","text":"Control whether tests run serially or in parallel."}],"url":"\/documentation\/testing\/parallelization","type":"topic"},"doc://org.swift.testing/documentation/Testing/Trait/disabled(_:fileID:filePath:line:column:)":{"type":"topic","abstract":[{"type":"text","text":"Construct a condition trait that disables a test unconditionally."}],"url":"\/documentation\/testing\/trait\/disabled(_:fileid:filepath:line:column:)","role":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"disabled","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:7Testing7CommentV","text":"Comment"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"fileID"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"filePath","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"line","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"column"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","text":"Self"}],"conformance":{"constraints":[{"type":"codeVoice","code":"Self"},{"type":"text","text":" is "},{"type":"codeVoice","code":"ConditionTrait"},{"text":".","type":"text"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}],"availabilityPrefix":[{"type":"text","text":"Available when"}]},"kind":"symbol","title":"disabled(_:fileID:filePath:line:column:)","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/disabled(_:fileID:filePath:line:column:)"},"doc://org.swift.testing/documentation/Testing/Traits":{"title":"Adding traits to tests","kind":"article","role":"collectionGroup","url":"\/documentation\/testing\/traits","type":"topic","abstract":[{"type":"text","text":"Add traits to tests to annotate them or customize their behavior."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Traits"}}}