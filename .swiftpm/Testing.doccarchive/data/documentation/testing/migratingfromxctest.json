{"sections":[],"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The testing library provides much of the same functionality of XCTest, but uses"},{"type":"text","text":" "},{"type":"text","text":"its own syntax to declare test functions and types. This document covers the"},{"text":" ","type":"text"},{"text":"process of converting XCTest-based content to use the testing library instead.","type":"text"}]},{"text":"Adding the testing library as a dependency","anchor":"Adding-the-testing-library-as-a-dependency","level":3,"type":"heading"},{"inlineContent":[{"text":"Before the testing library can be used, it must be added as a dependency of your","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Swift package or Xcode project. For more information on how to add it, see the"},{"type":"text","text":" "},{"overridingTitle":"Getting Started","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Getting Started"}],"isActive":true,"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/TemporaryGettingStarted"},{"type":"text","text":" guide."}],"type":"paragraph"},{"anchor":"Importing-the-testing-library","level":3,"text":"Importing the testing library","type":"heading"},{"inlineContent":[{"type":"text","text":"XCTest and the testing library are available from different modules. Instead of"},{"type":"text","text":" "},{"type":"text","text":"importing the XCTest module, import the Testing module:"}],"type":"paragraph"},{"numberOfColumns":2,"type":"row","columns":[{"content":[{"type":"codeListing","syntax":"swift","code":["\/\/ Before","import XCTest"]}],"size":1},{"size":1,"content":[{"type":"codeListing","code":["\/\/ After","import Testing"],"syntax":"swift"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A single source file can contain tests written with XCTest as well as other"},{"text":" ","type":"text"},{"text":"tests written with the testing library. Import both XCTest and Testing if a","type":"text"},{"type":"text","text":" "},{"text":"source file contains mixed test content.","type":"text"}]},{"type":"heading","anchor":"Converting-test-classes","text":"Converting test classes","level":3},{"inlineContent":[{"text":"XCTest groups related sets of test methods in test classes: classes that inherit","type":"text"},{"type":"text","text":" "},{"text":"from the ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase","isActive":true},{"type":"text","text":" "},{"type":"text","text":"class provided by the XCTest framework. The testing library does not require"},{"text":" ","type":"text"},{"text":"that test functions be instance members of types. Instead, they can be ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"free"}]},{"type":"text","text":" or"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"global"}]},{"text":" functions, or can be ","type":"text"},{"code":"static","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"class"},{"type":"text","text":" members of a type."}],"type":"paragraph"},{"inlineContent":[{"text":"If you want to group your test functions together, you can do so by placing them","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in a Swift type. The testing library refers to such a type as a "},{"inlineContent":[{"type":"text","text":"suite"}],"type":"emphasis"},{"type":"text","text":". These"},{"text":" ","type":"text"},{"type":"text","text":"types do "},{"type":"emphasis","inlineContent":[{"type":"text","text":"not"}]},{"text":" need to be classes, and they do not inherit from ","type":"text"},{"type":"codeVoice","code":"XCTestCase"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To convert a subclass of "},{"code":"XCTestCase","type":"codeVoice"},{"type":"text","text":" to a suite, remove the "},{"code":"XCTestCase","type":"codeVoice"},{"type":"text","text":" "},{"text":"conformance. It is also generally recommended that a Swift structure or actor be","type":"text"},{"type":"text","text":" "},{"text":"used instead of a class because it allows the Swift compiler to better-enforce","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"concurrency safety:"}]},{"numberOfColumns":2,"type":"row","columns":[{"size":1,"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  ...","}"],"syntax":"swift","type":"codeListing"}]},{"size":1,"content":[{"syntax":"swift","type":"codeListing","code":["\/\/ After","struct FoodTruckTests {","  ...","}"]}]}]},{"type":"paragraph","inlineContent":[{"text":"If you use a class as a test suite, it must be declared ","type":"text"},{"type":"codeVoice","code":"final"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"For more information about suites and how to declare and customize them, see","type":"text"},{"text":" ","type":"text"},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/OrganizingTests","type":"reference","isActive":true},{"type":"text","text":"."}]},{"type":"heading","level":4,"anchor":"Converting-setUp-and-tearDown-functions","text":"Converting setUp() and tearDown() functions"},{"type":"paragraph","inlineContent":[{"text":"In XCTest, code can be scheduled to run before and after a test using the","type":"text"},{"type":"text","text":" "},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856481-setup","type":"reference","isActive":true},{"text":" ","type":"text"},{"type":"text","text":"and "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856482-teardown","isActive":true},{"type":"text","text":" "},{"type":"text","text":"family of functions. When writing tests using the testing library, implement"},{"text":" ","type":"text"},{"code":"init()","type":"codeVoice"},{"type":"text","text":" and\/or "},{"type":"codeVoice","code":"deinit"},{"type":"text","text":" instead:"}]},{"columns":[{"size":1,"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  var batteryLevel: NSNumber!","  override func setUp() async throws {","    batteryLevel = 100","  }","  ...","}"],"syntax":"swift","type":"codeListing"}]},{"content":[{"code":["\/\/ After","struct FoodTruckTests {","  var batteryLevel: NSNumber","  init() async throws {","    batteryLevel = 100","  }","  ...","}"],"type":"codeListing","syntax":"swift"}],"size":1}],"numberOfColumns":2,"type":"row"},{"inlineContent":[{"type":"text","text":"The use of "},{"type":"codeVoice","code":"async"},{"type":"text","text":" and "},{"type":"codeVoice","code":"throws"},{"type":"text","text":" is optional. If teardown is needed, declare your"},{"type":"text","text":" "},{"text":"test suite as a ","type":"text"},{"type":"codeVoice","code":"final"},{"text":" class or as an actor rather than as a structure and","type":"text"},{"text":" ","type":"text"},{"text":"implement ","type":"text"},{"code":"deinit","type":"codeVoice"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  var batteryLevel: NSNumber!","  override func setUp() async throws {","    batteryLevel = 100","  }","  override func tearDown() {","    batteryLevel = 0 \/\/ drain the battery","  }","  ...","}"],"type":"codeListing","syntax":"swift"}]},{"size":1,"content":[{"type":"codeListing","code":["\/\/ After","final class FoodTruckTests {","  var batteryLevel: NSNumber","  init() async throws {","    batteryLevel = 100","  }","  deinit {","    batteryLevel = 0 \/\/ drain the battery","  }","  ...","}"],"syntax":"swift"}]}]},{"text":"Converting test methods","type":"heading","level":3,"anchor":"Converting-test-methods"},{"inlineContent":[{"text":"The testing library represents individual tests as functions, similar to how","type":"text"},{"text":" ","type":"text"},{"text":"they are represented in XCTest. However, the syntax for declaring a test","type":"text"},{"type":"text","text":" "},{"type":"text","text":"function is different. In XCTest, a test method must be a member of a test class"},{"type":"text","text":" "},{"type":"text","text":"and its name must start with "},{"code":"test","type":"codeVoice"},{"type":"text","text":". The testing library does not require a test"},{"text":" ","type":"text"},{"type":"text","text":"function to have any particular name. Instead, it identifies a test function by"},{"text":" ","type":"text"},{"type":"text","text":"the presence of the "},{"code":"@Test","type":"codeVoice"},{"text":" attribute:","type":"text"}],"type":"paragraph"},{"type":"row","numberOfColumns":2,"columns":[{"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testEngineWorks() { ... }","  ...","}"],"type":"codeListing","syntax":"swift"}],"size":1},{"size":1,"content":[{"code":["\/\/ After","struct FoodTruckTests {","  @Test func engineWorks() { ... }","  ...","}"],"type":"codeListing","syntax":"swift"}]}]},{"inlineContent":[{"type":"text","text":"As with XCTest, the testing library allows test functions to be marked "},{"code":"async","type":"codeVoice"},{"type":"text","text":" "},{"text":"and\/or ","type":"text"},{"type":"codeVoice","code":"throws"},{"type":"text","text":" and to be isolated to a global actor (for example, by using the"},{"type":"text","text":" "},{"code":"@MainActor","type":"codeVoice"},{"type":"text","text":" attribute.)"}],"type":"paragraph"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"XCTest runs synchronous test methods on the main actor by default, while"},{"type":"text","text":" "},{"text":"the testing library runs all test functions on an arbitrary task. If a test","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"function must run on the main thread, isolate it to the main actor with"},{"text":" ","type":"text"},{"type":"codeVoice","code":"@MainActor"},{"text":", or run the thread-sensitive code inside a call to","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/mainactor\/run(resulttype:body:)"},{"type":"text","text":"."}]}],"type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For more information about test functions and how to declare and customize them,"},{"text":" ","type":"text"},{"text":"see ","type":"text"},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/DefiningTests","isActive":true,"type":"reference"},{"type":"text","text":"."}]},{"anchor":"Converting-XCTAssert-XCTUnwrap-and-XCTFail-calls","level":4,"text":"Converting XCTAssert() XCTUnwrap(), and XCTFail() calls","type":"heading"},{"inlineContent":[{"type":"text","text":"XCTest uses a family of approximately 40 functions to assert test requirements."},{"type":"text","text":" "},{"text":"These functions are collectively referred to as","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/1500669-xctassert","isActive":true,"type":"reference"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The testing library has two replacements, "},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)","isActive":true,"type":"reference"},{"type":"text","text":" and"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q","isActive":true},{"text":". They both behave similarly to","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"XCTAssert()"},{"type":"text","text":" except that "},{"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q","isActive":true},{"type":"text","text":" will throw an"},{"type":"text","text":" "},{"text":"error if its condition is not met:","type":"text"}],"type":"paragraph"},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"type":"codeListing","syntax":"swift","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testEngineWorks() throws {","    let engine = FoodTruck.shared.engine","    XCTAssertNotNil(engine.parts.first)","    XCTAssertGreaterThan(engine.batteryLevel, 0)","    try engine.start()","    XCTAssertTrue(engine.isRunning)","  }","  ...","}"]}]},{"size":1,"content":[{"code":["\/\/ After","struct FoodTruckTests {","  @Test func engineWorks() throws {","    let engine = FoodTruck.shared.engine","    try #require(engine.parts.first != nil)","    #expect(engine.batteryLevel > 0)","    try engine.start()","    #expect(engine.isRunning)","  }","  ...","}"],"type":"codeListing","syntax":"swift"}]}]},{"inlineContent":[{"text":"XCTest also has a function, ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3380195-xctunwrap"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"that tests if an optional value is ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":" and throws an error if it is. When","type":"text"},{"type":"text","text":" "},{"type":"text","text":"using the testing library, you can use "},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-6w9oo","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"with optional expressions to unwrap them:","type":"text"}],"type":"paragraph"},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"type":"codeListing","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testEngineWorks() throws {","    let engine = FoodTruck.shared.engine","    let part = try XCTUnwrap(engine.parts.first)","    ...","  }","  ...","}"],"syntax":"swift"}]},{"size":1,"content":[{"type":"codeListing","code":["\/\/ After","struct FoodTruckTests {","  @Test func engineWorks() throws {","    let engine = FoodTruck.shared.engine","    let part = try #require(engine.parts.first)","    ...","  }","  ...","}"],"syntax":"swift"}]}]},{"inlineContent":[{"text":"Finally, XCTest has a function, ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/1500970-xctfail","isActive":true},{"type":"text","text":","},{"type":"text","text":" "},{"text":"that causes a test to fail immediately and unconditionally. This function is","type":"text"},{"text":" ","type":"text"},{"text":"useful when the syntax of the language prevents the use of an ","type":"text"},{"code":"XCTAssert()","type":"codeVoice"},{"type":"text","text":" "},{"text":"function. To record an unconditional issue using the testing library, use the","type":"text"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Issue\/record(_:fileID:filePath:line:column:)"},{"type":"text","text":" function:"}],"type":"paragraph"},{"numberOfColumns":2,"type":"row","columns":[{"content":[{"type":"codeListing","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testEngineWorks() {","    let engine = FoodTruck.shared.engine","    guard case .electric = engine else {","      XCTFail(\"Engine is not electric\")","      return","    }","    ...","  }","  ...","}"],"syntax":"swift"}],"size":1},{"size":1,"content":[{"syntax":"swift","type":"codeListing","code":["\/\/ After","struct FoodTruckTests {","  @Test func engineWorks() {","    let engine = FoodTruck.shared.engine","    guard case .electric = engine else {","      Issue.record(\"Engine is not electric\")","      return","    }","    ...","  }","  ...","}"]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following table includes a list of the various "},{"code":"XCTAssert()","type":"codeVoice"},{"text":" functions and","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"their equivalents in the testing library:"}]},{"type":"table","header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"XCTest","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"swift-testing"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssert(x)"},{"text":", ","type":"text"},{"type":"codeVoice","code":"XCTAssertTrue(x)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"code":"#expect(x)","type":"codeVoice"}]}]],[[{"inlineContent":[{"code":"XCTAssertFalse(x)","type":"codeVoice"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"#expect(!x)"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssertNil(x)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"code":"#expect(x == nil)","type":"codeVoice"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssertNotNil(x)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"code":"#expect(x != nil)","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"XCTAssertEqual(x, y)"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"#expect(x == y)"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssertNotEqual(x, y)"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"#expect(x != y)"}]}]],[[{"type":"paragraph","inlineContent":[{"code":"XCTAssertIdentical(x, y)","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"#expect(x === y)"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssertNotIdentical(x, y)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"#expect(x !== y)"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"XCTAssertGreaterThan(x, y)","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"#expect(x > y)","type":"codeVoice"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"XCTAssertGreaterThanOrEqual(x, y)"}]}],[{"inlineContent":[{"code":"#expect(x >= y)","type":"codeVoice"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"code":"XCTAssertLessThanOrEqual(x, y)","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"#expect(x <= y)"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"XCTAssertLessThan(x, y)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"#expect(x < y)"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"XCTAssertThrowsError(try f())"}]}],[{"inlineContent":[{"type":"codeVoice","code":"#expect(throws: (any Error).self) { try f() }"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"XCTAssertNoThrow(try f())"}]}],[{"type":"paragraph","inlineContent":[{"code":"#expect(throws: Never.self) { try f() }","type":"codeVoice"}]}]],[[{"inlineContent":[{"code":"try XCTUnwrap(x)","type":"codeVoice"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"try #require(x)"}]}]],[[{"type":"paragraph","inlineContent":[{"code":"XCTFail(\"…\")","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"code":"Issue.record(\"…\")","type":"codeVoice"}]}]]]},{"type":"heading","anchor":"Continuing-or-halting-after-test-failures","text":"Continuing or halting after test failures","level":4},{"inlineContent":[{"type":"text","text":"An instance of an "},{"code":"XCTestCase","type":"codeVoice"},{"text":" subclass can set its","type":"text"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase\/1496260-continueafterfailure","isActive":true},{"text":" ","type":"text"},{"type":"text","text":"property to "},{"type":"codeVoice","code":"false"},{"type":"text","text":" to cause a test to stop running after a failure occurs."},{"type":"text","text":" "},{"type":"text","text":"XCTest stops an affected test by throwing an Objective-C exception at the"},{"type":"text","text":" "},{"type":"text","text":"time the failure occurs."}],"type":"paragraph"},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"code":"continueAfterFailure","type":"codeVoice"},{"type":"text","text":" is not fully supported when using the"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/apple\/swift-corelibs-xctest"},{"text":" ","type":"text"},{"text":"library on non-Apple platforms.","type":"text"}]}],"type":"aside","style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The behavior of an exception thrown through a Swift stack frame is undefined. If"},{"type":"text","text":" "},{"type":"text","text":"an exception is thrown through an "},{"type":"codeVoice","code":"async"},{"type":"text","text":" Swift function, it typically causes"},{"text":" ","type":"text"},{"text":"the process to terminate abnormally, preventing other tests from running.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The testing library does not use exceptions to stop test functions. Instead, use"},{"text":" ","type":"text"},{"type":"text","text":"the "},{"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q","isActive":true},{"text":" macro, which throws a Swift error on","type":"text"},{"type":"text","text":" "},{"type":"text","text":"failure:"}]},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"syntax":"swift","type":"codeListing","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testTruck() async {","    continueAfterFailure = false","    XCTAssertTrue(FoodTruck.shared.isLicensed)","    ...","  }","  ...","}"]}]},{"size":1,"content":[{"syntax":"swift","type":"codeListing","code":["\/\/ After","struct FoodTruckTests {","  @Test func truck() throws {","    try #require(FoodTruck.shared.isLicensed)","    ...","  }","  ...","}"]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When using either "},{"type":"codeVoice","code":"continueAfterFailure"},{"type":"text","text":" or"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q"},{"text":", other tests will continue to run after","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the failed test method or test function."}]},{"type":"heading","level":4,"text":"Converting XCTestExpectation and XCTWaiter","anchor":"Converting-XCTestExpectation-and-XCTWaiter"},{"type":"paragraph","inlineContent":[{"text":"XCTest has a class, ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestexpectation","type":"reference","isActive":true},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"that represents some asynchronous condition. A developer creates an instance of","type":"text"},{"type":"text","text":" "},{"type":"text","text":"this class (or a subclass like "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctkeypathexpectation"},{"text":")","type":"text"},{"type":"text","text":" "},{"text":"using an initializer or a convenience method on ","type":"text"},{"type":"codeVoice","code":"XCTestCase"},{"text":". When the condition","type":"text"},{"type":"text","text":" "},{"text":"represented by an expectation occurs, the developer ","type":"text"},{"inlineContent":[{"text":"fulfills","type":"text"}],"type":"emphasis"},{"text":" the expectation.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Concurrently, the developer "},{"type":"emphasis","inlineContent":[{"text":"waits for","type":"text"}]},{"type":"text","text":" the expectation to be fulfilled using an"},{"text":" ","type":"text"},{"text":"instance of ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctwaiter","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"or using a convenience method on ","type":"text"},{"code":"XCTestCase","type":"codeVoice"},{"type":"text","text":"."}]},{"inlineContent":[{"text":"Wherever possible, prefer to use Swift concurrency to validate asynchronous","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"conditions. For example, if it is necessary to determine the result of an"},{"text":" ","type":"text"},{"type":"text","text":"asynchronous Swift function, it can be awaited with "},{"code":"await","type":"codeVoice"},{"text":". For a function that","type":"text"},{"text":" ","type":"text"},{"text":"takes a completion handler but which does not use ","type":"text"},{"code":"await","type":"codeVoice"},{"text":", a Swift","type":"text"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/withcheckedcontinuation(function:_:)"},{"type":"text","text":" "},{"type":"text","text":"can be used to convert the call into an "},{"type":"codeVoice","code":"async"},{"text":"-compatible one.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some tests, especially those that test asynchronously-delivered events, cannot"},{"text":" ","type":"text"},{"text":"be readily converted to use Swift concurrency. The testing library offers","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"functionality called "},{"type":"emphasis","inlineContent":[{"text":"confirmations","type":"text"}]},{"text":" which can be used to implement these tests.","type":"text"},{"text":" ","type":"text"},{"text":"Instances of ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Confirmation","isActive":true},{"type":"text","text":" are created and used within the scope of the"},{"text":" ","type":"text"},{"text":"function ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/confirmation(_:expectedCount:fileID:filePath:line:column:_:)","isActive":true},{"text":".","type":"text"}]},{"inlineContent":[{"type":"text","text":"Confirmations function similarly to XCTest’s expectations, however they do not"},{"text":" ","type":"text"},{"type":"text","text":"block or suspend the caller while waiting for a condition to be fulfilled."},{"text":" ","type":"text"},{"text":"Instead, the requirement is expected to be ","type":"text"},{"inlineContent":[{"type":"text","text":"confirmed"}],"type":"emphasis"},{"type":"text","text":" (the equivalent of"},{"text":" ","type":"text"},{"inlineContent":[{"text":"fulfilling","type":"text"}],"type":"emphasis"},{"type":"text","text":" an expectation) before "},{"code":"confirmation()","type":"codeVoice"},{"type":"text","text":" returns, and an issue is"},{"type":"text","text":" "},{"text":"recorded otherwise:","type":"text"}],"type":"paragraph"},{"numberOfColumns":2,"columns":[{"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testTruckEvents() async {","    let soldFood = expectation(description: \"…\")","    FoodTruck.shared.eventHandler = { event in","      if case .soldFood = event {","        soldFood.fulfill()","      }","    }","    await Customer().buy(.soup)","    await fulfillment(of: [soldFood])","    ...","  }","  ...","}"],"type":"codeListing","syntax":"swift"}],"size":1},{"size":1,"content":[{"type":"codeListing","syntax":"swift","code":["\/\/ After","struct FoodTruckTests {","  @Test func truckEvents() async {","    await confirmation(\"…\") { soldFood in","      FoodTruck.shared.eventHandler = { event in","        if case .soldFood = event {","          soldFood()","        }","      }","      await Customer().buy(.soup)","    }","    ...","  }","  ...","}"]}]}],"type":"row"},{"type":"heading","level":4,"anchor":"Converting-XCTSkip-XCTSkipIf-and-XCTSkipUnless-calls","text":"Converting XCTSkip(), XCTSkipIf(), and XCTSkipUnless() calls"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When using XCTest, the "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctskip"},{"type":"text","text":" "},{"type":"text","text":"error type can be thrown to bypass the remainder of a test function. As well,"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3521325-xctskipif","type":"reference","isActive":true},{"type":"text","text":" "},{"type":"text","text":"and "},{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3521326-xctskipunless","type":"reference","isActive":true},{"text":" ","type":"text"},{"type":"text","text":"functions can be used to conditionalize the same action. The testing library"},{"text":" ","type":"text"},{"text":"allows developers to skip a test function or an entire test suite before it","type":"text"},{"type":"text","text":" "},{"type":"text","text":"starts running using the "},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/ConditionTrait","type":"reference","isActive":true},{"type":"text","text":" trait type. Annotate a test suite or"},{"type":"text","text":" "},{"type":"text","text":"test function with an instance of this trait type to control whether it runs:"}]},{"type":"row","columns":[{"content":[{"type":"codeListing","syntax":"swift","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testArepasAreTasty() throws {","    try XCTSkipIf(CashRegister.isEmpty)","    try XCTSkipUnless(FoodTruck.sells(.arepas))","    ...","  }","  ...","}"]}],"size":1},{"size":1,"content":[{"type":"codeListing","code":["\/\/ After","@Suite(.disabled(if: CashRegister.isEmpty))","struct FoodTruckTests {","  @Test(.enabled(if: FoodTruck.sells(.arepas)))","  func arepasAreTasty() {","    ...","  }","  ...","}"],"syntax":"swift"}]}],"numberOfColumns":2},{"type":"heading","level":4,"text":"Converting XCTExpectFailure() calls","anchor":"Converting-XCTExpectFailure-calls"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A test may have a known issue that sometimes or always prevents it from passing."},{"text":" ","type":"text"},{"text":"When written using XCTest, such tests can call","type":"text"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3727246-xctexpectfailure","isActive":true},{"type":"text","text":" "},{"type":"text","text":"to tell XCTest and its infrastructure that the issue should not cause the test"},{"text":" ","type":"text"},{"text":"to fail. The testing library has an equivalent function with synchronous and","type":"text"},{"type":"text","text":" "},{"text":"asynchronous variants:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-5pxnd"}]}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-30kgk"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This function can be used to annotate a section of a test as having a known"},{"text":" ","type":"text"},{"text":"issue:","type":"text"}]},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testGrillWorks() async {","    XCTExpectFailure(\"Grill is out of fuel\") {","      try FoodTruck.shared.grill.start()","    }","    ...","  }","  ...","}"],"type":"codeListing","syntax":"swift"}]},{"size":1,"content":[{"type":"codeListing","syntax":"swift","code":["\/\/ After","struct FoodTruckTests {","  @Test func grillWorks() async {","    withKnownIssue(\"Grill is out of fuel\") {","      try FoodTruck.shared.grill.start()","    }","    ...","  }","  ...","}"]}]}]},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The XCTest function "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3727245-xctexpectfailure","isActive":true},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"which does not take a closure and which affects the remainder of the test,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"does not have a direct equivalent in the testing library. To mark an entire"},{"type":"text","text":" "},{"type":"text","text":"test as having a known issue, wrap its body in a call to "},{"type":"codeVoice","code":"withKnownIssue()"},{"text":".","type":"text"}]}],"name":"Note","type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a test may fail intermittently, the call to"},{"text":" ","type":"text"},{"type":"codeVoice","code":"XCTExpectFailure(_:options:failingBlock:)"},{"text":" can be marked ","type":"text"},{"inlineContent":[{"text":"non-strict","type":"text"}],"type":"emphasis"},{"text":". When","type":"text"},{"type":"text","text":" "},{"type":"text","text":"using the testing library, specify that the known issue is "},{"type":"emphasis","inlineContent":[{"type":"text","text":"intermittent"}]},{"type":"text","text":" "},{"text":"instead:","type":"text"}]},{"type":"row","numberOfColumns":2,"columns":[{"size":1,"content":[{"code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testGrillWorks() async {","    XCTExpectFailure(","      \"Grill may need fuel\",","      options: .nonStrict()","    ) {","      try FoodTruck.shared.grill.start()","    }","    ...","  }","  ...","}"],"syntax":"swift","type":"codeListing"}]},{"size":1,"content":[{"syntax":"swift","code":["\/\/ After","struct FoodTruckTests {","  @Test func grillWorks() async {","    withKnownIssue(","      \"Grill may need fuel\", ","      isIntermittent: true","    ) {","      try FoodTruck.shared.grill.start()","    }","    ...","  }","  ...","}"],"type":"codeListing"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Additional options can be specified when calling "},{"type":"codeVoice","code":"XCTExpectFailure()"},{"text":":","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726085-isenabled"},{"text":" ","type":"text"},{"type":"text","text":"can be set to "},{"code":"false","type":"codeVoice"},{"type":"text","text":" to skip known-issue matching (for instance, if a"},{"type":"text","text":" "},{"text":"particular issue only occurs under certain conditions); and","type":"text"}]}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726086-issuematcher","type":"reference"},{"type":"text","text":" "},{"text":"can be set to a closure to allow marking only certain issues as known and to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"allow other issues to be recorded as test failures."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The testing library includes overloads of "},{"type":"codeVoice","code":"withKnownIssue()"},{"type":"text","text":" that take"},{"type":"text","text":" "},{"text":"additional arguments with similar behavior:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-68e5g","isActive":true,"type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-7azqg","isActive":true,"type":"reference"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"To conditionally enable known-issue matching and\/or to match only certain kinds","type":"text"},{"type":"text","text":" "},{"text":"of issues:","type":"text"}]},{"numberOfColumns":2,"type":"row","columns":[{"content":[{"syntax":"swift","type":"codeListing","code":["\/\/ Before","class FoodTruckTests: XCTestCase {","  func testGrillWorks() async {","    let options = XCTExpectedFailure.Options()","    options.isEnabled = FoodTruck.shared.hasGrill","    options.issueMatcher = { issue in","      issue.type == thrownError","    }","    XCTExpectFailure(","      \"Grill is out of fuel\",","      options: options","    ) {","      try FoodTruck.shared.grill.start()","    }","    ...","  }","  ...","}"]}],"size":1},{"content":[{"syntax":"swift","code":["\/\/ After","struct FoodTruckTests {","  @Test func grillWorks() async {","    withKnownIssue(\"Grill is out of fuel\") {","      try FoodTruck.shared.grill.start()","    } when: {","      FoodTruck.shared.hasGrill","    } matching: { issue in","      issue.error != nil ","    }","    ...","  }","  ...","}"],"type":"codeListing"}],"size":1}]}],"kind":"content"}],"variants":[{"paths":["\/documentation\/testing\/migratingfromxctest"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"modules":[{"name":"Testing"}],"roleHeading":"Article","role":"article","title":"Migrating a test from XCTest"},"hierarchy":{"paths":[["doc:\/\/org.swift.testing\/documentation\/Testing"]]},"abstract":[{"type":"text","text":"Migrate an existing test method or test class written using XCTest."}],"identifier":{"url":"doc:\/\/org.swift.testing\/documentation\/Testing\/MigratingFromXCTest","interfaceLanguage":"swift"},"seeAlsoSections":[{"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/DefiningTests","doc:\/\/org.swift.testing\/documentation\/Testing\/OrganizingTests","doc:\/\/org.swift.testing\/documentation\/Testing\/Expectations"],"title":"Related Documentation"},{"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/TemporaryGettingStarted"],"generated":true,"title":"Getting started"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"kind":"article","references":{"https://github.com/apple/swift-corelibs-xctest":{"identifier":"https:\/\/github.com\/apple\/swift-corelibs-xctest","type":"link","titleInlineContent":[{"type":"text","text":"swift-corelibs-xctest"}],"url":"https:\/\/github.com\/apple\/swift-corelibs-xctest","title":"swift-corelibs-xctest"},"doc://org.swift.testing/documentation/Testing/confirmation(_:expectedCount:fileID:filePath:line:column:_:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"confirmation","kind":"identifier"},{"text":"<","kind":"text"},{"text":"R","kind":"genericParameter"},{"text":">(","kind":"text"},{"preciseIdentifier":"s:7Testing7CommentV","text":"Comment","kind":"typeIdentifier"},{"kind":"text","text":"?, "},{"text":"expectedCount","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"fileID","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"filePath"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"line"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", "},{"text":"column","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", (","kind":"text"},{"text":"Confirmation","preciseIdentifier":"s:7Testing12ConfirmationV","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"R","preciseIdentifier":"s:7Testing12confirmation_13expectedCount6fileID0E4Path4line6column_xAA7CommentVSg_SiS2SS2ixAA12ConfirmationVYaKXEtYaKlF1RL_xmfp"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"rethrows","kind":"keyword"},{"kind":"text","text":" -> "},{"text":"R","kind":"typeIdentifier","preciseIdentifier":"s:7Testing12confirmation_13expectedCount6fileID0E4Path4line6column_xAA7CommentVSg_SiS2SS2ixAA12ConfirmationVYaKXEtYaKlF1RL_xmfp"}],"url":"\/documentation\/testing\/confirmation(_:expectedcount:fileid:filepath:line:column:_:)","title":"confirmation(_:expectedCount:fileID:filePath:line:column:_:)","abstract":[{"text":"Confirm that some event occurs during the invocation of a function.","type":"text"}],"kind":"symbol","type":"topic","role":"symbol","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/confirmation(_:expectedCount:fileID:filePath:line:column:_:)"},"doc://org.swift.testing/documentation/Testing/Confirmation":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Confirmation","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"text":"Confirmation","kind":"identifier"}],"abstract":[{"text":"A type that can be used to confirm that an event occurs zero or more times.","type":"text"}],"role":"symbol","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Confirmation","title":"Confirmation","type":"topic","url":"\/documentation\/testing\/confirmation"},"doc://org.swift.testing/documentation/Testing/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-68e5g":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-68e5g","abstract":[{"text":"Invoke a function that has a known issue that is expected to occur during","type":"text"},{"type":"text","text":" "},{"text":"its execution.","type":"text"}],"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withKnownIssue"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Comment","preciseIdentifier":"s:7Testing7CommentV"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"isIntermittent"},{"kind":"text","text":": "},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"fileID"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"filePath"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":", ","kind":"text"},{"text":"line","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"column"},{"text":": ","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":", () ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","kind":"typeIdentifier","text":"Void"},{"text":", ","kind":"text"},{"text":"when","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"matching","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Testing17KnownIssueMatchera","text":"KnownIssueMatcher"},{"kind":"text","text":") "},{"kind":"keyword","text":"rethrows"}],"type":"topic","url":"\/documentation\/testing\/withknownissue(_:isintermittent:fileid:filepath:line:column:_:when:matching:)-68e5g","title":"withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)"},"doc://org.swift.testing/documentation/Testing/require(_:_:sourceLocation:)-6w9oo":{"fragments":[{"kind":"keyword","text":"macro"},{"text":" ","kind":"text"},{"text":"require","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"kind":"text","text":">("},{"preciseIdentifier":"s:7Testing1TL_xmfp","text":"T","kind":"typeIdentifier"},{"kind":"text","text":"?, () -> "},{"text":"Comment","kind":"typeIdentifier","preciseIdentifier":"s:7Testing7CommentV"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"sourceLocation"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SourceLocation","preciseIdentifier":"s:7Testing14SourceLocationV"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:7Testing1TL_xmfp","text":"T"}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-6w9oo","title":"require(_:_:sourceLocation:)","type":"topic","abstract":[{"type":"text","text":"Unwrap an optional value or, if it is "},{"type":"codeVoice","code":"nil"},{"type":"text","text":", fail and throw an error."}],"role":"symbol","url":"\/documentation\/testing\/require(_:_:sourcelocation:)-6w9oo","kind":"symbol"},"doc://org.swift.testing/documentation/Testing/OrganizingTests":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/OrganizingTests","title":"Organizing tests","type":"topic","role":"collectionGroup","url":"\/documentation\/testing\/organizingtests","abstract":[{"text":"Organize tests into test suites.","type":"text"}],"kind":"article"},"doc://org.swift.testing/documentation/Testing/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-30kgk":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withKnownIssue"},{"text":"(","kind":"text"},{"text":"Comment","kind":"typeIdentifier","preciseIdentifier":"s:7Testing7CommentV"},{"kind":"text","text":"?, "},{"text":"isIntermittent","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"fileID"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"filePath","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"text":"line","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"column","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", () ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"}],"title":"withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)","type":"topic","role":"symbol","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-30kgk","url":"\/documentation\/testing\/withknownissue(_:isintermittent:fileid:filepath:line:column:_:)-30kgk","abstract":[{"text":"Invoke a function that has a known issue that is expected to occur during","type":"text"},{"text":" ","type":"text"},{"text":"its execution.","type":"text"}],"kind":"symbol"},"doc://org.swift.testing/documentation/Testing/expect(_:_:sourceLocation:)":{"title":"expect(_:_:sourceLocation:)","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"expect"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":", () -> ","kind":"text"},{"text":"Comment","kind":"typeIdentifier","preciseIdentifier":"s:7Testing7CommentV"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"sourceLocation"},{"kind":"text","text":": "},{"text":"SourceLocation","kind":"typeIdentifier","preciseIdentifier":"s:7Testing14SourceLocationV"},{"kind":"text","text":")"}],"type":"topic","kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"Check that an expectation has passed after a condition has been evaluated."}],"url":"\/documentation\/testing\/expect(_:_:sourcelocation:)"},"https://developer.apple.com/documentation/xctest/3380195-xctunwrap":{"title":"XCTUnwrap()","titleInlineContent":[{"type":"codeVoice","code":"XCTUnwrap()"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/3380195-xctunwrap","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3380195-xctunwrap"},"https://developer.apple.com/documentation/xctest/3521326-xctskipunless":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3521326-xctskipunless","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTSkipUnless()"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/3521326-xctskipunless","title":"XCTSkipUnless()"},"doc://org.swift.testing/documentation/Testing/TemporaryGettingStarted":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/TemporaryGettingStarted","title":"Getting started","type":"topic","role":"collectionGroup","url":"\/documentation\/testing\/temporarygettingstarted","abstract":[{"text":"Start running tests in a new or existing XCTest-based test target.","type":"text"}],"kind":"article"},"https://developer.apple.com/documentation/xctest/1500669-xctassert":{"title":"XCTAssert()","titleInlineContent":[{"type":"codeVoice","code":"XCTAssert()"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/1500669-xctassert","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/1500669-xctassert"},"https://developer.apple.com/documentation/xctest/3727245-xctexpectfailure":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3727245-xctexpectfailure","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTExpectFailure(_:options:)"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/3727245-xctexpectfailure","title":"XCTExpectFailure(_:options:)"},"https://developer.apple.com/documentation/xctest/3521325-xctskipif":{"title":"XCTSkipIf()","titleInlineContent":[{"type":"codeVoice","code":"XCTSkipIf()"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/3521325-xctskipif","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3521325-xctskipif"},"https://developer.apple.com/documentation/xctest/xctskip":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctskip","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTSkip"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctskip","title":"XCTSkip"},"https://developer.apple.com/documentation/xctest/xctestcase":{"title":"XCTestCase","titleInlineContent":[{"type":"codeVoice","code":"XCTestCase"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase"},"doc://org.swift.testing/documentation/Testing/Expectations":{"kind":"article","title":"Validating behavior using expectations","url":"\/documentation\/testing\/expectations","type":"topic","abstract":[{"text":"Check for expected values and outcomes in tests.","type":"text"}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Expectations","role":"collectionGroup"},"https://developer.apple.com/documentation/xctest/xctestexpectation":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestexpectation","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTestExpectation"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestexpectation","title":"XCTestExpectation"},"doc://org.swift.testing/documentation/Testing/Issue/record(_:fileID:filePath:line:column:)":{"type":"topic","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Issue\/record(_:fileID:filePath:line:column:)","abstract":[{"type":"text","text":"Record an issue when a running test fails unexpectedly."}],"title":"record(_:fileID:filePath:line:column:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"record"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"Comment","preciseIdentifier":"s:7Testing7CommentV"},{"kind":"text","text":"?, "},{"text":"fileID","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":", ","kind":"text"},{"text":"filePath","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"text":"column","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Issue","preciseIdentifier":"s:7Testing5IssueV"}],"kind":"symbol","url":"\/documentation\/testing\/issue\/record(_:fileid:filepath:line:column:)","role":"symbol"},"doc://org.swift.testing/documentation/Testing/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-7azqg":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)-7azqg","abstract":[{"type":"text","text":"Invoke a function that has a known issue that is expected to occur during"},{"type":"text","text":" "},{"text":"its execution.","type":"text"}],"kind":"symbol","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"withKnownIssue","kind":"identifier"},{"kind":"text","text":"("},{"preciseIdentifier":"s:7Testing7CommentV","kind":"typeIdentifier","text":"Comment"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"isIntermittent"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"fileID"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"text":"filePath","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"column"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", () "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:s4Voida","kind":"typeIdentifier","text":"Void"},{"kind":"text","text":", "},{"text":"when","kind":"externalParam"},{"kind":"text","text":": () "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":", ","kind":"text"},{"text":"matching","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Testing17KnownIssueMatchera","text":"KnownIssueMatcher"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"rethrows"}],"type":"topic","url":"\/documentation\/testing\/withknownissue(_:isintermittent:fileid:filepath:line:column:_:when:matching:)-7azqg","title":"withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:when:matching:)"},"https://developer.apple.com/documentation/xctest/xctexpectedfailure/options/3726086-issuematcher":{"title":"issueMatcher","titleInlineContent":[{"type":"codeVoice","code":"issueMatcher"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726086-issuematcher","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726086-issuematcher"},"https://developer.apple.com/documentation/xctest/xctwaiter":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctwaiter","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTWaiter"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctwaiter","title":"XCTWaiter"},"https://developer.apple.com/documentation/swift/mainactor/run(resulttype:body:)":{"title":"MainActor.run(resultType:body:)","titleInlineContent":[{"type":"codeVoice","code":"MainActor.run(resultType:body:)"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/mainactor\/run(resulttype:body:)","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/mainactor\/run(resulttype:body:)"},"https://developer.apple.com/documentation/xctest/1500970-xctfail":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/1500970-xctfail","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTFail()"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/1500970-xctfail","title":"XCTFail()"},"doc://org.swift.testing/documentation/Testing/require(_:_:sourceLocation:)-5l63q":{"role":"symbol","url":"\/documentation\/testing\/require(_:_:sourcelocation:)-5l63q","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"require"},{"text":"(","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":", () -> ","kind":"text"},{"kind":"typeIdentifier","text":"Comment","preciseIdentifier":"s:7Testing7CommentV"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"sourceLocation"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Testing14SourceLocationV","text":"SourceLocation","kind":"typeIdentifier"},{"text":")","kind":"text"}],"abstract":[{"text":"Check that an expectation has passed after a condition has been evaluated","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and throw an error if it failed."}],"type":"topic","kind":"symbol","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q","title":"require(_:_:sourceLocation:)"},"https://developer.apple.com/documentation/swift/withcheckedcontinuation(function:_:)":{"title":"continuation","titleInlineContent":[{"type":"text","text":"continuation"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/withcheckedcontinuation(function:_:)","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/withcheckedcontinuation(function:_:)"},"https://developer.apple.com/documentation/xctest/3727246-xctexpectfailure":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/3727246-xctexpectfailure","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTExpectFailure(_:options:failingBlock:)"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/3727246-xctexpectfailure","title":"XCTExpectFailure(_:options:failingBlock:)"},"https://developer.apple.com/documentation/xctest/xctest/3856481-setup":{"title":"setUp()","titleInlineContent":[{"type":"codeVoice","code":"setUp()"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856481-setup","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856481-setup"},"doc://org.swift.testing/documentation/Testing/ConditionTrait":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/ConditionTrait","navigatorTitle":[{"text":"ConditionTrait","kind":"identifier"}],"role":"symbol","kind":"symbol","title":"ConditionTrait","abstract":[{"type":"text","text":"A type that defines a condition which must be satisfied for a test to be"},{"type":"text","text":" "},{"text":"enabled.","type":"text"}],"url":"\/documentation\/testing\/conditiontrait","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ConditionTrait"}],"type":"topic"},"https://developer.apple.com/documentation/xctest/xctkeypathexpectation":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctkeypathexpectation","type":"link","titleInlineContent":[{"type":"codeVoice","code":"XCTKeyPathExpectation"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctkeypathexpectation","title":"XCTKeyPathExpectation"},"https://developer.apple.com/documentation/xctest/xctexpectedfailure/options/3726085-isenabled":{"title":"isEnabled","titleInlineContent":[{"type":"codeVoice","code":"isEnabled"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726085-isenabled","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctexpectedfailure\/options\/3726085-isenabled"},"doc://org.swift.testing/documentation/Testing/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-5pxnd":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)-5pxnd","abstract":[{"type":"text","text":"Invoke a function that has a known issue that is expected to occur during"},{"type":"text","text":" "},{"type":"text","text":"its execution."}],"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withKnownIssue"},{"text":"(","kind":"text"},{"text":"Comment","kind":"typeIdentifier","preciseIdentifier":"s:7Testing7CommentV"},{"text":"?, ","kind":"text"},{"text":"isIntermittent","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"fileID","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"filePath","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"column"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":", () "},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:s4Voida","kind":"typeIdentifier","text":"Void"},{"kind":"text","text":")"}],"type":"topic","url":"\/documentation\/testing\/withknownissue(_:isintermittent:fileid:filepath:line:column:_:)-5pxnd","title":"withKnownIssue(_:isIntermittent:fileID:filePath:line:column:_:)"},"https://developer.apple.com/documentation/xctest/xctest/3856482-teardown":{"identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856482-teardown","type":"link","titleInlineContent":[{"type":"codeVoice","code":"tearDown()"}],"url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctest\/3856482-teardown","title":"tearDown()"},"doc://org.swift.testing/documentation/Testing/DefiningTests":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/DefiningTests","type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"Define a test function to validate that code is working correctly."}],"title":"Defining test functions","url":"\/documentation\/testing\/definingtests","kind":"article"},"doc://org.swift.testing/documentation/Testing":{"title":"Testing","kind":"symbol","role":"collection","url":"\/documentation\/testing","type":"topic","abstract":[{"type":"text","text":"Create and run tests for your Swift packages and Xcode projects."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing"},"https://developer.apple.com/documentation/xctest/xctestcase/1496260-continueafterfailure":{"title":"continueAfterFailure","titleInlineContent":[{"type":"codeVoice","code":"continueAfterFailure"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase\/1496260-continueafterfailure","identifier":"https:\/\/developer.apple.com\/documentation\/xctest\/xctestcase\/1496260-continueafterfailure"}}}