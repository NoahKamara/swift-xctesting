{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.swift.testing\/documentation\/Testing\/LimitingExecutionTime"},"hierarchy":{"paths":[["doc:\/\/org.swift.testing\/documentation\/Testing","doc:\/\/org.swift.testing\/documentation\/Testing\/Traits"]]},"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/EnablingAndDisabling","doc:\/\/org.swift.testing\/documentation\/Testing\/AddingTags","doc:\/\/org.swift.testing\/documentation\/Testing\/AddingComments","doc:\/\/org.swift.testing\/documentation\/Testing\/AssociatingBugs","doc:\/\/org.swift.testing\/documentation\/Testing\/Parallelization"]}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some tests may naturally run slowly: they may require significant system"},{"type":"text","text":" "},{"text":"resources to complete, may rely on downloaded data from a server, or may","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"otherwise be dependent on external factors."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a test may hang indefinitely or may consume too many system resources to"},{"type":"text","text":" "},{"type":"text","text":"complete effectively, consider setting a time limit for it so that it will"},{"text":" ","type":"text"},{"text":"be marked as failing if it runs for an excessive amount of time. Use the","type":"text"},{"text":" ","type":"text"},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/timeLimit(_:)","type":"reference","isActive":true},{"type":"text","text":" trait as an upper bound:"}]},{"type":"codeListing","syntax":"swift","code":["@Test(.timeLimit(.seconds(60 * 60))","func serve100CustomersInOneHour() async {","  for _ in 0 ..< 100 {","    let customer = await Customer.next()","    await customer.order()","    ...","  }","}"]},{"inlineContent":[{"type":"text","text":"If the above test function takes longer than 60 Ã— 60 seconds (i.e. one"},{"type":"text","text":" "},{"type":"text","text":"hour) to execute, the task in which it is running will be"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/task\/cancel()","isActive":true},{"text":" ","type":"text"},{"type":"text","text":"and the test will fail with an issue of kind"},{"type":"text","text":" "},{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Issue\/Kind-swift.enum\/timeLimitExceeded(timeLimitComponents:)","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"if multiple time limit traits apply to a test, the shortest time limit","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is used."}]}],"style":"note","type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"text":"The testing library may adjust the specified time limit for performance reasons","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or to ensure tests have enough time to run. In particular, a granularity of (by"},{"type":"text","text":" "},{"type":"text","text":"default) one minute is applied to tests. The testing library can also be"},{"text":" ","type":"text"},{"type":"text","text":"configured with a maximum time limit per test that overrides any applied time"},{"type":"text","text":" "},{"type":"text","text":"limit traits."}]},{"text":"Time limits applied to test suites","anchor":"Time-limits-applied-to-test-suites","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"When a time limit is applied to a test suite, it is recursively applied to all"},{"text":" ","type":"text"},{"text":"test functions and child test suites within that suite.","type":"text"}]},{"text":"Time limits applied to parameterized tests","level":3,"anchor":"Time-limits-applied-to-parameterized-tests","type":"heading"},{"inlineContent":[{"text":"When a time limit is applied to a parameterized test function, it is applied to","type":"text"},{"type":"text","text":" "},{"text":"each invocation ","type":"text"},{"inlineContent":[{"text":"separately","type":"text"}],"type":"emphasis"},{"type":"text","text":" so that if only some arguments cause failures, then"},{"text":" ","type":"text"},{"type":"text","text":"successful arguments are not incorrectly marked as failing too."}],"type":"paragraph"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/testing\/limitingexecutiontime"]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"type":"text","text":"Set limits on how long a test can run for until it fails."}],"sections":[],"topicSections":[{"identifiers":["doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/timeLimit(_:)","doc:\/\/org.swift.testing\/documentation\/Testing\/TimeLimitTrait"]}],"metadata":{"title":"Limiting the execution time of a test","modules":[{"name":"Testing"}],"role":"collectionGroup","roleHeading":"API Collection"},"references":{"doc://org.swift.testing/documentation/Testing/Traits":{"title":"Adding traits to tests","kind":"article","role":"collectionGroup","url":"\/documentation\/testing\/traits","type":"topic","abstract":[{"type":"text","text":"Add traits to tests to annotate them or customize their behavior."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Traits"},"doc://org.swift.testing/documentation/Testing/TimeLimitTrait":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/TimeLimitTrait","navigatorTitle":[{"text":"TimeLimitTrait","kind":"identifier"}],"role":"symbol","kind":"symbol","title":"TimeLimitTrait","abstract":[{"text":"A type that defines a time limit to apply to a test.","type":"text"}],"url":"\/documentation\/testing\/timelimittrait","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"TimeLimitTrait"}],"type":"topic"},"doc://org.swift.testing/documentation/Testing/Issue/Kind-swift.enum/timeLimitExceeded(timeLimitComponents:)":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Issue\/Kind-swift.enum\/timeLimitExceeded(timeLimitComponents:)","role":"symbol","kind":"symbol","title":"Issue.Kind.timeLimitExceeded(timeLimitComponents:)","abstract":[{"text":"An issue due to a test reaching its time limit and timing out.","type":"text"}],"url":"\/documentation\/testing\/issue\/kind-swift.enum\/timelimitexceeded(timelimitcomponents:)","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"timeLimitExceeded"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"timeLimitComponents"},{"kind":"text","text":": (seconds"},{"kind":"text","text":": "},{"preciseIdentifier":"s:s5Int64V","text":"Int64","kind":"typeIdentifier"},{"kind":"text","text":", attoseconds"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s5Int64V","text":"Int64"},{"text":"))","kind":"text"}],"type":"topic"},"doc://org.swift.testing/documentation/Testing/AddingTags":{"title":"Adding tags to tests","kind":"article","role":"collectionGroup","url":"\/documentation\/testing\/addingtags","type":"topic","abstract":[{"type":"text","text":"Add tags to tests and customize their appearance."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/AddingTags"},"https://developer.apple.com/documentation/swift/task/cancel()":{"title":"cancelled","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/task\/cancel()","titleInlineContent":[{"type":"text","text":"cancelled"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/task\/cancel()"},"doc://org.swift.testing/documentation/Testing/EnablingAndDisabling":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/EnablingAndDisabling","abstract":[{"type":"text","text":"Conditionally enable or disable individual tests before they run."}],"type":"topic","url":"\/documentation\/testing\/enablinganddisabling","kind":"article","role":"collectionGroup","title":"Enabling and disabling tests"},"doc://org.swift.testing/documentation/Testing/Trait/timeLimit(_:)":{"conformance":{"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"code":"TimeLimitTrait","type":"codeVoice"},{"text":".","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Trait\/timeLimit(_:)","role":"symbol","kind":"symbol","title":"timeLimit(_:)","abstract":[{"type":"text","text":"Construct a time limit trait that causes a test to time out if it runs for"},{"type":"text","text":" "},{"type":"text","text":"too long."}],"url":"\/documentation\/testing\/trait\/timelimit(_:)","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"timeLimit","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:s8DurationV","text":"Duration"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","text":"Self"}],"type":"topic"},"doc://org.swift.testing/documentation/Testing/AddingComments":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/AddingComments","abstract":[{"type":"text","text":"Add comments to provide useful information about tests."}],"kind":"article","role":"collectionGroup","type":"topic","url":"\/documentation\/testing\/addingcomments","title":"Adding comments to tests"},"doc://org.swift.testing/documentation/Testing/Parallelization":{"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/Parallelization","role":"article","kind":"article","title":"Parallelizing test execution","abstract":[{"type":"text","text":"Control whether tests run serially or in parallel."}],"url":"\/documentation\/testing\/parallelization","type":"topic"},"doc://org.swift.testing/documentation/Testing/AssociatingBugs":{"kind":"article","identifier":"doc:\/\/org.swift.testing\/documentation\/Testing\/AssociatingBugs","title":"Associating bugs with tests","role":"collectionGroup","type":"topic","abstract":[{"text":"Associate bugs uncovered or verified by tests.","type":"text"}],"url":"\/documentation\/testing\/associatingbugs"},"doc://org.swift.testing/documentation/Testing":{"title":"Testing","kind":"symbol","role":"collection","url":"\/documentation\/testing","type":"topic","abstract":[{"type":"text","text":"Create and run tests for your Swift packages and Xcode projects."}],"identifier":"doc:\/\/org.swift.testing\/documentation\/Testing"}}}